name: Testing LSC
run-name: ${{ github.actor }} is checking installation and function ðŸš€
on: workflow_dispatch
jobs:
  Test-Install:
    runs-on: macos-latest
    steps:
      - uses: actions/checkout@v4
      - run: echo "The ${{ github.repository }} repository has been cloned to the runner."
      - run: echo "cloning bpRNA_align"
      - name: Clone bpRNA_align
        run: |
          cd src
          git clone https://github.com/BLasher113/bpRNA_align.git
          cd ..
      - run: ls src
      - run: pip install .
      - run: brew install perl
      - run: brew install cpanminus
      - run: cpanm Graph
      - run: pip install ViennaRNA
      - run: echo "Installation Complete"
      - name: Generate Libraries
        run: |
          cd data_generation/library_generation/
          chmod +x generate.sh
          ./generate.sh test 10
          cd ../..
      - run: echo "New Libraries Generated"
      - run: ls -l data/library/
      - name: Generate bpRNAfiles
        run: |
          cd data_generation/bpRNA_data_generation/
          wget https://bprna.cgrb.oregonstate.edu/bpRNA_1m/stFiles.zip
          unzip stFiles.zip
          chmod +x generate.sh
          ./generate.sh
          cd ../..
          ls data/bpRNA/
      - run: echo "bpRNA datafiles generated"
